<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Making an RC Vaccum</title><!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Making an RC Vaccum" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="So all of this started when I filed my first patent. This blog has nothing to do with said patent, beyond it being ultimately part of a version 4 prototype, but this ridulous thing wouldn‚Äôt exist without the patent." />
<meta property="og:description" content="So all of this started when I filed my first patent. This blog has nothing to do with said patent, beyond it being ultimately part of a version 4 prototype, but this ridulous thing wouldn‚Äôt exist without the patent." />
<link rel="canonical" href="http://localhost:4000/maker/2022/11/26/rc_robot.html" />
<meta property="og:url" content="http://localhost:4000/maker/2022/11/26/rc_robot.html" />
<meta property="og:site_name" content="Dumptrucks‚Äôs Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-11-26T14:49:38-06:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Making an RC Vaccum" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Making an RC Vaccum","dateModified":"2022-11-26T14:49:38-06:00","datePublished":"2022-11-26T14:49:38-06:00","url":"http://localhost:4000/maker/2022/11/26/rc_robot.html","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/maker/2022/11/26/rc_robot.html"},"description":"So all of this started when I filed my first patent. This blog has nothing to do with said patent, beyond it being ultimately part of a version 4 prototype, but this ridulous thing wouldn‚Äôt exist without the patent.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Dumptrucks's Blog" /><link rel="shortcut icon" type="image/x-icon" href="" />
  <link rel="stylesheet" href="/assets/css/main.css" />
</head><body a="auto">
    <main class="page-content" aria-label="Content">
      <div class="w">
        <a href="/">..</a><article>
  <p class="post-meta">
    <time datetime="2022-11-26 14:49:38 -0600">2022-11-26</time>
  </p>
  
  <h1>Making an RC Vaccum</h1>

  <p>So all of this started when I filed my first patent. This blog has nothing to <em>do</em> with said patent, beyond it being ultimately part of a version 4 prototype, but this ridulous thing wouldn‚Äôt exist without the patent.</p>

<p>What is it? How did I do it? How many things did I fry in the process of making it? (Hint: far too many). These and all your other questions will be answered after the break.</p>

<hr />

<iframe width="720" height="480" src="https://www.youtube.com/embed/Bek-pxtkyso" frameborder="0" allowfullscreen=""></iframe>
<hr />

<p>Feel free to award internet points as appropriate.</p>

<p class="iota">üëèüëèüëèüëèüëèüëè</p>

<p>Ultimately it may be better to say this started at a yard sale when I picked up this little vacuum for $20. I had no clue Hoover made robot vacuums and had a hope that Hoover wouldn‚Äôt put too much work into them. This turned out to be a mid range model that had a suprising number of features and not great reviews.</p>

<p>After snatching the little thing up it sat around for a few months until I decided exactly what I wanted to do with it. I ultimately ended up on making it the new platform for a room exploration prototype that‚Äôs been in the works for a few years (and will eventually get its own blog post). Before going through the effort of taking the existing prototype apart, designing new platforms for everything to sit on and integrating it into this vacuum I wanted to kick the tires, and what better way to get a feel for the components than to get it working with an old Playstation controller so I can drive it around, vacuum some stuff up and try to improve its (currently) fairly sad performance.</p>

<p>The first step to do all of this though was a good ol‚Äô fashioned</p>

<h2 id="teardown-and-part-cataloging">Teardown and part cataloging</h2>

<p>Let‚Äôs start with a nice before picture and then we‚Äôll get to the innards
<img src="/assets/images/hoover_top.png" alt="hoover_top" /></p>

<p>And after a reasonable straightforward top removal we ended up with this:
<img src="/assets/images/hoover_no_top.png" alt="hoover_no_top" /></p>

<p>The above photo leaves out the collector for dirt/dust/debris, the vacuum motor and a few bump sensors. Each sensor connects to the main board with a easy to remove plug and there weren‚Äôt any gotchas during disassembly.</p>

<p>I am in no way an expert at tearing things apart successfully, but I would give Hoover a ifixit (sometimes ibreakit) score of 9/10. Everything is included in a way that makes sense and there isn‚Äôt anything that can‚Äôt be taking out in a way that doesn‚Äôt let you put it back in again.</p>

<p>The brains of our little vacuum friend are a STM32F101, providing a pretty beefy chip for what it can do out of the box. 
<img src="/assets/images/stm_closeup.png" alt="close up of stm32" /></p>

<p>For a bit I did go down the road of trying to read from the chip and possibly reprogram it with my own code (which would be <em>very</em> nice since the board would give me connections to everything right away) but ultimately decided not too because:<br />
1) I couldn‚Äôt get anything that made sense out of any of the open pins on the board 
2) I don‚Äôt know enough about hardware to say for certain there wasn‚Äôt some kind of protection in place for the chip and
3) This wasn‚Äôt the particular rabbit hole I wanted to go down that day.</p>

<p>I gave up and decided to replace the board with something else to drive everything, but since this vacuum is so easy to reassemble I set it aside to maybe come back and figure it out later.</p>

<p>Contiuing on with the tear down! There are a lot of gooides in this little vacuum that would be easy to repurpose without too much trouble. Keeping in mind that the code would have to be reimplemented to get everything working it has nice components with plugs that include:</p>
<ul>
  <li>Motors with hall effects sensors 
<img src="/assets/images/motor_hall_effect.png" alt="battery picture" /></li>
  <li>IR distance sensors</li>
  <li>Bump sensors</li>
  <li>2 12V motors</li>
  <li>A 12V 2000mAh battery
<img src="/assets/images/hoover_battery.png" alt="battery picture" /></li>
</ul>

<p>Just having all of this would be worth the $20 I paid for it already, but every component has clip on connectors that make hooking them up to something else a <em>breeze</em>.</p>

<p>With the teardown completed, the parts catalouged and the screws (mostly) stored somewhere safe it was time to</p>

<h2 id="figure-out-how-this-stuff-works">Figure out how this stuff works</h2>
<p>I decided to spend most of my time focusing on how to get the motors working, since getting each motor to run on command would get the vacuum doing it‚Äôs job of, uh‚Ä¶ vacuuming.</p>

<p>I couldn‚Äôt find anything online to help me figure out how the motors worked beyond knowing they were normal DC motors (except the vacuum motor, which I‚Äôll get to in a bit). The two primary wheel motors each have a six pin connector with two powering the motor and the rest for the hall effect sensor. I used a multimeter to test the board as it was running and saw the voltage sat at around 5v consistently, and that <em>should</em> be enough to trigger the motors so testing consisted of running 5V to each pin and seeing what turned the motor. I found the ground pin marked on the board attached to the motor, so it was just a matter of testing each pin to see when the motor responded.</p>

<p>For this I used my trusty DIY bench top power supply. It‚Äôs ain‚Äôt pretty, but it works great for what I need.</p>

<p><img src="/assets/images/hey_it_does_a_good_job.png" alt="battery picture" /></p>

<p>Running 5V to two wires and testing each ping on the motor cable showed me the first two were what I needed. Pin 1 is ground, pin 2 is motor positive voltage. These were 12V motors, so I was able to run them up to 12 volts with no issues (and no smoke).</p>

<p>TODO</p>
<ul>
  <li>Explain testing for brush motor</li>
  <li>Explain testing for vacuum motor</li>
  <li>Explain setup with Pi and Adafruit motor controller</li>
  <li>Explain code</li>
  <li>Wrap up</li>
</ul>


</article>
      </div>
    </main>
  </body>
</html>